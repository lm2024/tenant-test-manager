-- 请求网址
-- https://www.tapd.cn/api/entity/changes/get_list?entity_type=bug&workspace_id=60498179&entity_id=1160498179001000009&page=1&per_page=10&program_id=0&is_first_load=true&search_words=
-- 请求方法
-- GET

-- entity_type=bug&workspace_id=60498179&entity_id=1160498179001000009&page=1&per_page=10&program_id=0&is_first_load=true&search_words=



{
    "data": {
        "count": "5",
        "total_count": "5",
        "list": [
            {
                "no": "1",
                "id": "1749730388",
                "entity_type": "bug_change",
                "created": "2025-06-12 20:13:08",
                "creator": "\u672a\u547d\u540d\u5c0f\u7a0b\u5e8f",
                "creator_tips": "",
                "change_type": "\u624b\u52a8\u53d8\u66f4",
                "change_field": "\u8bc4\u8bba\u003Cbr\u003E\u4fee\u590d\u4eba\u003Cbr\u003E\u89e3\u51b3\u65b9\u6cd5\u003Cbr\u003E\u72b6\u6001\u003Cbr\u003E\u6d4b\u8bd5\u4eba\u5458",
                "change_before": "\u003Ca href=\u0027https:\/\/www.tapd.cn\/60498179\/bugtrace\/bugs\/descipDiff\/1160498179001000009\/1160498179001000034\u0027  target=\u0027_blank\u0027\u003E\u67e5\u770b\u8be6\u7ec6\u003C\/a\u003E\u003Cbr\u003E--\u003Cbr\u003E--\u003Cbr\u003E\u003Cspan title=\u0027\u63a5\u53d7\/\u5904\u7406\u0027\u003E\u63a5\u53d7\/\u5904\u7406\u003C\/span\u003E\u003Cbr\u003E--",
                "change_after": "\u003Ca href=\u0027https:\/\/www.tapd.cn\/60498179\/bugtrace\/bugs\/descipDiff\/1160498179001000009\/1160498179001000034\u0027  target=\u0027_blank\u0027\u003E\u67e5\u770b\u8be6\u7ec6\u003C\/a\u003E\u003Cbr\u003E\u003Cspan title=\u0027\u672a\u547d\u540d\u5c0f\u7a0b\u5e8f\u0027\u003E\u672a\u547d\u540d\u5c0f\u7a0b\u5e8f\u003C\/span\u003E\u003Cbr\u003E\u003Cspan title=\u0027\u5df2\u4fee\u6539\u0027\u003E\u5df2\u4fee\u6539\u003C\/span\u003E\u003Cbr\u003E\u003Cspan title=\u0027\u5df2\u89e3\u51b3\u0027\u003E\u5df2\u89e3\u51b3\u003C\/span\u003E\u003Cbr\u003E\u003Cspan title=\u0027\u672a\u547d\u540d\u5c0f\u7a0b\u5e8f;\u0027\u003E\u672a\u547d\u540d\u5c0f\u7a0b\u5e8f;\u003C\/span\u003E",
                "change_after_tips": ""
            },
            {
                "no": "2",
                "id": "1749730043",
                "entity_type": "bug_change",
                "created": "2025-06-12 20:07:23",
                "creator": "\u672a\u547d\u540d\u5c0f\u7a0b\u5e8f",
                "creator_tips": "",
                "change_type": "\u624b\u52a8\u53d8\u66f4",
                "change_field": "\u6807\u7b7e",
                "change_before": "--",
                "change_after": "\u003Cspan title=\u0027\u963b\u585e\u0027\u003E\u963b\u585e\u003C\/span\u003E",
                "change_after_tips": ""
            },
            {
                "no": "3",
                "id": "1749718508",
                "entity_type": "bug_change",
                "created": "2025-06-12 16:55:08",
                "creator": "\u672a\u547d\u540d\u5c0f\u7a0b\u5e8f",
                "creator_tips": "",
                "change_type": "\u624b\u52a8\u53d8\u66f4",
                "change_field": "\u72b6\u6001\u003Cbr\u003E\u5904\u7406\u4eba\u003Cbr\u003E\u5f00\u53d1\u4eba\u5458",
                "change_before": "\u003Cspan title=\u0027\u65b0\u0027\u003E\u65b0\u003C\/span\u003E\u003Cbr\u003E--\u003Cbr\u003E--",
                "change_after": "\u003Cspan title=\u0027\u63a5\u53d7\/\u5904\u7406\u0027\u003E\u63a5\u53d7\/\u5904\u7406\u003C\/span\u003E\u003Cbr\u003E\u003Cspan title=\u0027\u672a\u547d\u540d\u5c0f\u7a0b\u5e8f;\u0027\u003E\u672a\u547d\u540d\u5c0f\u7a0b\u5e8f;\u003C\/span\u003E\u003Cbr\u003E\u003Cspan title=\u0027\u672a\u547d\u540d\u5c0f\u7a0b\u5e8f;\u0027\u003E\u672a\u547d\u540d\u5c0f\u7a0b\u5e8f;\u003C\/span\u003E",
                "change_after_tips": ""
            },
            {
                "no": "4",
                "id": "1749718268",
                "entity_type": "bug_change",
                "created": "2025-06-12 16:51:08",
                "creator": "\u672a\u547d\u540d\u5c0f\u7a0b\u5e8f",
                "creator_tips": "",
                "change_type": "\u624b\u52a8\u53d8\u66f4",
                "change_field": "\u8be6\u7ec6\u63cf\u8ff0",
                "change_before": "\u003Ca href=\u0027https:\/\/www.tapd.cn\/60498179\/bugtrace\/bugs\/descipDiff\/1160498179001000009\/1160498179001000023\u0027  target=\u0027_blank\u0027\u003E--\u003C\/a\u003E",
                "change_after": "\u003Ca href=\u0027https:\/\/www.tapd.cn\/60498179\/bugtrace\/bugs\/descipDiff\/1160498179001000009\/1160498179001000023\u0027  target=\u0027_blank\u0027\u003E\u67e5\u770b\u8be6\u7ec6\u003C\/a\u003E",
                "change_after_tips": ""
            },
            {
                "no": "5",
                "id": "1748575038",
                "entity_type": "bug_change",
                "created": "2025-05-30 11:17:18",
                "creator": "TAPD",
                "creator_tips": "",
                "change_type": "\u521b\u5efa\u7f3a\u9677",
                "change_field": "\u6807\u9898\u003Cbr\u003E\u521b\u5efa\u4eba\u003Cbr\u003E\u72b6\u6001\u003Cbr\u003E\u4f18\u5148\u7ea7\u003Cbr\u003E\u4e25\u91cd\u7a0b\u5ea6\u003Cbr\u003E\u53d1\u73b0\u7248\u672c",
                "change_before": "--\u003Cbr\u003E--\u003Cbr\u003E--\u003Cbr\u003E--\u003Cbr\u003E--\u003Cbr\u003E--",
                "change_after": "\u003Cspan title=\u0027\u3010\u793a\u4f8b\u3011\u7f3a\u96772\u0027\u003E\u3010\u793a\u4f8b\u3011\u7f3a\u96772\u003C\/span\u003E\u003Cbr\u003E\u003Cspan title=\u0027TAPD\u0027\u003ETAPD\u003C\/span\u003E\u003Cbr\u003E\u003Cspan title=\u0027\u65b0\u0027\u003E\u65b0\u003C\/span\u003E\u003Cbr\u003E\u003Cspan title=\u0027\u4e2d\u0027\u003E\u4e2d\u003C\/span\u003E\u003Cbr\u003E\u003Cspan title=\u0027\u4e00\u822c\u0027\u003E\u4e00\u822c\u003C\/span\u003E\u003Cbr\u003E\u003Cspan title=\u0027\u7248\u672c1\u0027\u003E\u7248\u672c1\u003C\/span\u003E",
                "change_after_tips": ""
            }
        ],
        "fields_info": {
            "no": {
                "name": "no",
                "html_type": "input",
                "label": "\u5e8f\u53f7"
            },
            "created": {
                "name": "created",
                "html_type": "datetime",
                "label": "\u53d8\u66f4\u65f6\u95f4"
            },
            "creator": {
                "name": "creator",
                "html_type": "input",
                "label": "\u53d8\u66f4\u4eba"
            },
            "change_type": {
                "name": "change_type",
                "html_type": "html",
                "label": "\u53d8\u66f4\u7c7b\u578b"
            },
            "change_field": {
                "name": "change_field",
                "html_type": "html",
                "label": "\u53d8\u66f4\u5b57\u6bb5"
            },
            "change_before": {
                "name": "change_before",
                "html_type": "html",
                "label": "\u53d8\u66f4\u524d"
            },
            "change_after": {
                "name": "change_after",
                "html_type": "html",
                "label": "\u53d8\u66f4\u540e"
            }
        },
        "filter": []
    },
    "meta": {
        "code": "0",
        "message": "success"
    },
    "timestamp": "1749731070"
}





CREATE TABLE bug_changes (
    id BIGINT UNSIGNED NOT NULL PRIMARY KEY COMMENT '变更记录ID',
    entity_id VARCHAR(32) NOT NULL COMMENT '关联的缺陷ID',
    workspace_id INT UNSIGNED NOT NULL COMMENT '工作空间ID',
    no TINYINT UNSIGNED NOT NULL COMMENT '变更序号',
    entity_type VARCHAR(20) NOT NULL DEFAULT 'bug_change' COMMENT '实体类型',
    created DATETIME NOT NULL COMMENT '变更时间',
    creator VARCHAR(50) NOT NULL COMMENT '变更人',
    creator_tips VARCHAR(255) DEFAULT '' COMMENT '变更人提示',
    change_type VARCHAR(50) NOT NULL COMMENT '变更类型',
    change_field TEXT COMMENT '变更字段',
    change_before TEXT COMMENT '变更前值',
    change_after TEXT COMMENT '变更后值',
    change_after_tips TEXT COMMENT '变更后提示',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '记录创建时间',
    
    INDEX idx_entity (entity_id, workspace_id),
    INDEX idx_created (created)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='缺陷变更历史表';




INSERT INTO bug_changes (
    id, entity_id, workspace_id, no, created, creator, 
    change_type, change_field, change_before, change_after
) VALUES (
    1749730388, 
    '1160498179001000009', 
    60498179, 
    1, 
    '2025-06-12 20:13:08', 
    '未命名小程序', 
    '手动变更', 
    '评论<br>修复人<br>解决方法<br>状态<br>测试人员', 
    '<a href=\'https://www.tapd.cn/60498179/bugtrace/bugs/descipDiff/1160498179001000009/1160498179001000034\'  target=\'_blank\'>查看详细</a><br>--<br>--<br><span title=\'接受/处理\'>接受/处理</span><br>--', 
    '<a href=\'https://www.tapd.cn/60498179/bugtrace/bugs/descipDiff/1160498179001000009/1160498179001000034\'  target=\'_blank\'>查看详细</a><br><span title=\'未命名小程序\'>未命名小程序</span><br><span title=\'已修改\'>已修改</span><br><span title=\'已解决\'>已解决</span><br><span title=\'未命名小程序;\'>未命名小程序;</span>'
);

-- 添加其他4条记录（结构相同）





























